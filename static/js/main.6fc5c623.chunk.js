(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],[,,,,function(e,t,a){e.exports={header:"header_header__2CnO1",title:"header_title__1ht9k",subtitle:"header_subtitle__38gg1",span:"header_span__3kZpy",warning:"header_warning__F3nuy"}},function(e,t,a){e.exports={card:"article_card__q3Rcw",complete:"article_complete__1VDkc",text:"article_text__1ISSs",bold:"article_bold__McRFH",button:"article_button__3FKhB",icon:"article_icon__VuUjm",layout:"article_layout__Iffyp"}},,,function(e,t,a){e.exports={searchPanel:"searchPanel_searchPanel__2HcLH",input:"searchPanel_input__2F2JN",buttonGroup:"searchPanel_buttonGroup__mXHcW",button:"searchPanel_button__2AoVK"}},,,function(e,t,a){e.exports={content:"app_content__1dVeZ",page:"app_page__3K-Hw",main:"app_main__1agJc"}},function(e,t,a){e.exports={form:"form_form__1yam9",input:"form_input__3K0re",submitButton:"form_submitButton__1WTrL"}},,,,,function(e,t,a){e.exports={timer:"timer_timer__1fQ3E"}},function(e,t,a){e.exports={articles:"articles_articles__eIaq5"}},,,,,,,function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(9),s=a.n(r),i=(a(25),a(15)),l=a(3),o=a(14),u=a.n(o),d=a(16),b=a(6),m=a(2),p=a(19),f=a(11),h=a.n(f),j=a(4),g=a.n(j),_=a(17),O=a.n(_),x=a(0);var v=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1];return setInterval((function(){var e=(new Date).toLocaleString(),t=new Date;c("".concat(e,", ").concat(function(){switch(t.getDay()){case 0:return"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \ud83e\udd2a\ud83e\udd28\ud83d\ude12";case 1:return"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a\u200d\ufe0f \ud83d\ude35\u200d\ud83d\udcab";case 2:return"\u0412\u0442\u043e\u0440\u043d\u0438\u043a \ud83d\ude2e\u200d\ud83d\udca8";case 3:return"\u0421\u0440\u0435\u0434\u0430 \ud83d\ude0f";case 4:return"\u0427\u0435\u0442\u0432\u0435\u0440\u0433 \ud83d\ude0b";case 5:return"\u041f\u044f\u0442\u043d\u0438\u0446\u0430 \ud83e\udd2a";case 6:return"\u0421\u0443\u0431\u0431\u043e\u0442\u0430 \ud83e\udd2a\ud83e\udd2a\ud83e\udd2a";default:return"\u0421\u0430\u043c\u044b\u0439 \u043b\u0443\u0447\u0448\u0438\u0439 \u0434\u0435\u043d\u044c!"}}()))}),1e3),Object(x.jsx)("p",{className:O.a.timer,children:a})};function C(e){var t=e.totalTask,a=e.remainingTask,n="".concat(a>3?g.a.warning:g.a.span);return Object(x.jsxs)("header",{className:"".concat(g.a.header," d-flex"),children:[Object(x.jsx)("h1",{className:g.a.title,children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447"}),Object(x.jsx)(v,{}),0===t&&Object(x.jsx)("p",{className:g.a.subtitle,children:"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442\xa0\u0437\u0430\u0434\u0430\u0447"}),0!==a&&Object(x.jsxs)("p",{className:g.a.subtitle,children:["\u0412\u0441\u0435\u0433\u043e:",Object(x.jsx)("span",{className:g.a.span,children:" ".concat(t)}),", O\u0441\u0442\u0430\u043b\u043e\u0441\u044c:",Object(x.jsx)("span",{className:n,children:a})]}),0===a&&t>0&&Object(x.jsx)("p",{className:g.a.subtitle,children:"\u0412\u0441\u0451 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e"})]})}var N=a(8),k=a.n(N);function S(e){var t=e.cardsFilter,a=e.handleFilterCard,n=e.setSearchRequest,c=e.searchInputRef,r=e.searchRequest;return Object(x.jsxs)("div",{className:k.a.searchPanel,children:[Object(x.jsx)("input",{ref:c,className:k.a.input,type:"text",minLength:3,placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430",onChange:function(e){return n(e.target.value)},value:r}),Object(x.jsx)("div",{className:"btn-group ".concat(k.a.buttonGroup),role:"group","aria-label":"buttons block",children:[{id:1,name:"active",label:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c"},{id:2,name:"completed",label:"\u0413\u043e\u0442\u043e\u0432\u043e"},{id:3,name:"all",label:"\u0412\u0441\u0435"}].map((function(e){var n=e.name,c=e.id,r=e.label,s=n===t?"btn-light":"btn-outline-light";return Object(x.jsx)("button",{className:"btn ".concat(s," ").concat(k.a.button),id:c,name:n,onClick:function(){return a(n)},type:"button",children:r},"".concat(n+c))}))})]})}var I=a(20),y=a(18),w=a.n(y),T=a(5),D=a.n(T);function F(e){var t=e.id,a=e.name,n=e.props,c=e.handleDeleteCard,r=e.handleToggleCompleteCard,s=n.completeTask;return Object(x.jsxs)("article",{className:"".concat(D.a.card," ").concat(s?D.a.complete:""),onClick:function(){return r(t)},id:t,children:[Object(x.jsxs)("p",{className:"".concat(D.a.text," ").concat(s?D.a.bold:""),children:["".concat(t,". "),a]}),Object(x.jsx)("button",{onClick:function(e){e.stopPropagation(),c(t)},className:"".concat(D.a.button," btn-outline-danger"),title:'\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0443 "'.concat(a,'"'),type:"button",children:Object(x.jsx)("i",{className:"".concat(D.a.icon," bi bi-x-circle")})}),s&&Object(x.jsx)("i",{className:"bi bi-check2-all ".concat(D.a.layout)})]})}function R(e){var t=e.handleDeleteCard,a=e.handleToggleCompleteCard,n=e.cards;return Object(x.jsx)("section",{className:w.a.articles,children:n.map((function(e){var n=e.id,c=e.name,r=Object(I.a)(e,["id","name"]);return Object(x.jsx)(F,{id:n,name:c,props:r,handleDeleteCard:t,handleToggleCompleteCard:a},n+(new Date).getTime()+Math.random())}))})}var L=a(12),P=a.n(L);function J(e){var t=e.handleSubmitForm,a=e.cardInputRef,c=Object(n.useState)(""),r=Object(b.a)(c,2),s=r[0],i=r[1],l=s.length<4;return Object(x.jsxs)("form",{className:P.a.form,onSubmit:function(e){t(e,s),i("")},children:[Object(x.jsx)("input",{ref:a,className:P.a.input,type:"text",minLength:4,onChange:function(e){return i(e.target.value)},value:s,placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c (4 c\u0438\u043c\u0432\u043e\u043b\u0430)"}),Object(x.jsx)("button",{type:"submit",id:"submit-btn",name:"submit-btn",className:"btn btn-light ".concat(P.a.submitButton),disabled:l,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})}var q=function(){return Object(m.e)({cards:[],cardsFilter:"all",addCard:function(e){this.cards=[].concat(Object(l.a)(this.cards),[e])},toggleComplete:function(e,t){this.cards=[].concat(Object(l.a)(this.cards.slice(0,t)),[e],Object(l.a)(this.cards.slice(t+1)))},handleDelete:function(e){this.cards=[].concat(Object(l.a)(this.cards.slice(0,e)),Object(l.a)(this.cards.slice(e+1)))}},{cards:m.f,cardsFilter:m.f,addCard:m.b,toggleComplete:m.b,handleDelete:m.b})},A=[a.p+"static/media/bg1.d7bfb8fb.jpeg",a.p+"static/media/bg2.38f6eae6.jpeg",a.p+"static/media/bg3.379e88ed.jpeg",a.p+"static/media/bg4.ede4983b.jpeg"],B=1e4*A.length,H=q(),E=Object(p.a)((function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],r=Object(n.useRef)(""),s=Object(n.useRef)(null),o=Object(n.useRef)(null);Object(n.useEffect)((function(){r.current.style.backgroundImage='url("'.concat(A[0],'")'),setInterval((function(){var e=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function t(){return(t=Object(d.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<A.length)){t.next=8;break}return r.current.style.backgroundImage='url("'.concat(A[a],'")'),t.next=5,e(B);case 5:a++,t.next=1;break;case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().then((function(e){return e})).catch((function(e){return e}))}),(A.length+1)*B)}),[]),Object(n.useEffect)((function(){return localStorage.getItem("cards")?(Object(m.g)((function(){H.cards=JSON.parse(localStorage.getItem("cards"))})),null):null}),[]);var p=function(){o.current.focus()},f=H.cards.filter((function(e){return!1===e.completeTask})).length,j=function(e,t){var a=t.toLowerCase();return"active"===e?H.cards.filter((function(e){return e.name.toLowerCase().includes(a)&&!1===e.completeTask||"".concat(e.id," ")===t})):"completed"===e?H.cards.filter((function(e){return e.name.toLowerCase().includes(a)&&!0===e.completeTask||"".concat(e.id,"  ")===t})):H.cards.filter((function(e){return e.name.toLowerCase().includes(a)||"".concat(e.id," ")===a}))}(H.cardsFilter,a);return Object(x.jsx)("div",{ref:r,className:h.a.content,children:Object(x.jsxs)("div",{className:"container ".concat(h.a.page),children:[Object(x.jsx)(C,{totalTask:H.cards.length,remainingTask:f}),Object(x.jsxs)("main",{className:"d-flex flex-column ".concat(h.a.main),children:[H.cards.length>0&&Object(x.jsx)(S,{searchInputRef:s,cardsFilter:H.cardsFilter,setSearchRequest:c,handleFilterCard:function(e){Object(m.g)((function(){H.cardsFilter=e})),p()},searchRequest:a}),Object(x.jsx)(R,{handleDeleteCard:function(e){var t=H.cards.findIndex((function(t){return t.id===e}));return Object(m.g)((function(){return H.handleDelete(t)})),0===H.cards.length?localStorage.removeItem("cards"):(localStorage.setItem("cards",JSON.stringify(H.cards)),null)},handleToggleCompleteCard:function(e){var t=(new Date).toISOString(),a=H.cards.findIndex((function(t){return t.id===e})),n=!H.cards[a].completeTask,c=Object(i.a)(Object(i.a)({},H.cards[a]),{},{completeTask:n,completedAt:n?[].concat(Object(l.a)(H.cards[a].completedAt),[t]):H.cards[a].completedAt});Object(m.g)((function(){return H.toggleComplete(c,a)})),localStorage.setItem("cards",JSON.stringify(H.cards))},cards:j}),Object(x.jsx)(J,{cardInputRef:o,handleSubmitForm:function(e,t){e.preventDefault();var a=t.split("")[0].toUpperCase()+t.slice(1);c(""),Object(m.g)((function(){return function(e){var t=(new Date).toISOString(),a={id:H.cards.length>0?H.cards[H.cards.length-1].id+1:1,name:e,completeTask:!1,createdAt:t,completedAt:[]};return localStorage.setItem("cards",JSON.stringify([].concat(Object(l.a)(H.cards),[a]))),H.addCard(a)}(a)})),p()}})]})]})})}));s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(E,{})}),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.6fc5c623.chunk.js.map